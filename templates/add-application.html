{% extends "index.html" %}

{% block title %}Add a New Application{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto bg-white shadow-lg rounded-lg p-6 mt-6 border border-gray-200">
    <h2 class="text-xl font-semibold text-gray-800 mb-4">Add a New Job Application</h2>
    
    <form action="/add-new-application" method="POST" class="space-y-4">
        <!-- Job Link Input -->
        <div>
            <label for="link" class="block text-sm font-medium text-gray-700">LinkedIn Job URL</label>
            <input type="url" name="link" id="link" required
                class="mt-1 block w-full p-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"
                placeholder="https://www.linkedin.com/jobs/view/...">
        </div>

        <!-- Submit Button -->
        <button type="submit"
            id="loadButton"
            class="w-full bg-gray-800 hover:bg-gray-900 text-white font-semibold py-2 rounded-lg transition">
            Add Application
        </button>
    </form>
    <div id="overlay" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center hidden">
        <div class="border-4 border-blue-500 border-t-transparent rounded-full w-12 h-12 animate-spin"></div>
    </div>

    <script>
        document.getElementById("loadButton").addEventListener("click", function() {
            var button = this;
            var overlay = document.getElementById("overlay");
            
            button.disabled = true;
            overlay.classList.remove("hidden");
            
            setTimeout(() => {
                button.disabled = false;
                overlay.classList.add("hidden");
            }, 3000);
        });
    </script>
</div>
{% endblock %}
